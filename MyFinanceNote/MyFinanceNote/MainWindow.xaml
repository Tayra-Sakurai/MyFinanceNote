<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="MyFinanceNote.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MyFinanceNote"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:models="using:MyFinanceNote.Models"
    mc:Ignorable="d"
    Title="MyFinanceNote">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid Background="{ThemeResource LayerFillColorDefaultBrush}"
          Margin="5,5,5,5">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <!--The table-->
        <ListView ItemsSource="{x:Bind tayras.Tayras}"
                  x:Name="SuperList"
                  Grid.ColumnSpan="3"
                  SelectionMode="Single"
                  IsItemClickEnabled="False">
            <ListView.Header>
                <controls:DataTable>
                    <controls:DataColumn Content="Id"
                                         DesiredWidth="*"/>
                    <controls:DataColumn Content="Date"
                                         DesiredWidth="3*"/>
                    <controls:DataColumn DesiredWidth="5*"
                                         Content="Event"/>
                    <controls:DataColumn Content="Cash"
                                         DesiredWidth="2*"/>
                    <controls:DataColumn Content="ICOCA"
                                         DesiredWidth="2*"/>
                    <controls:DataColumn Content="CO-OP e-Money"
                                         DesiredWidth="2*"/>
                </controls:DataTable>
            </ListView.Header>
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="models:Tayra">
                    <controls:DataRow>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Id}"/>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Date}"/>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Event}"/>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Cash}"/>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Icoca}"/>
                        <TextBlock VerticalAlignment="Center"
                                   Text="{x:Bind Coop}"/>
                    </controls:DataRow>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem"
                       BasedOn="{StaticResource DefaultListViewItemStyle}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>
        <Button Grid.Row="1" Grid.Column="1" Content="Add Item" Command="{x:Bind tayras.AddCommand}"/>
        <Button Grid.Row="1" Grid.Column="2" Content="Load Data" Command="{x:Bind tayras.LoadCommand}"/>
        <Grid Grid.Row="2" Grid.ColumnSpan="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <DatePicker Date="{x:Bind tayra.Date, Mode=TwoWay}"
                        Header="Date"/>
            <TimePicker SelectedTime="{x:Bind tayra.Time, Mode=TwoWay}"
                        Grid.Row="0" Grid.Column="1"/>
            <TextBox Header="Event" Text="{x:Bind tayra.Event1, Mode=TwoWay}"
                     Grid.Row="1" Grid.ColumnSpan="5"/>
            <TextBox Header="Cash" Text="{x:Bind tayra.Cash, Mode=TwoWay}"
                     Grid.Row="2" Grid.ColumnSpan="5"/>
            <TextBox Header="ICOCA" Text="{x:Bind tayra.Icoca, Mode=TwoWay}"
                     Grid.Row="3" Grid.ColumnSpan="5"/>
            <TextBox Header="CO-OP" Text="{x:Bind tayra.Coop, Mode=TwoWay}"
                     Grid.Row="4" Grid.ColumnSpan="5"/>
            <Button Content="Save" Command="{x:Bind tayra.SaveCommand}"
                    Grid.Row="5" Grid.Column="3"/>
            <Button Content="delete" Command="{x:Bind tayra.DeleteCommand}"
                    Grid.Row="5" Grid.Column="4"/>
        </Grid>
    </Grid>
</Window>
